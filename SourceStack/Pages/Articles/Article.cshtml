@page
@model SourceStack.Pages.Articles.ArticleModel
@{
    ViewData["Title"] = "文章列表";
    Layout = "Layout/_Articlelist";
    int CurrentpageIndex = Convert.ToInt32(Request.Query["pageIndex"][0]);
}
@foreach (var item in Model.Article)
{
    <div>
        <h4><a href="/Articles/Single?id=@item.Id">@item.Title</a></h4>
        <div>
            <small>@item.PublishTime.ToString("yyyy年MM月 dd日hh点mm分")</small>
            <p style="float:right">作者：<a href="#">@item.Author.Name</a></p>
        </div>
        <p>@item.Body<a href="#">...</a></p>
        <div>
            <strong>关键字：</strong>
            @for (int i = 0; i < item.KeyWords.Count; i++)
            {
                <span class="badge badge-pill badge-dark">@item.KeyWords[i].Name</span>
            }
        </div>
        <hr />
    </div>
}
@section list
{

}
<nav aria-label="Page navigation example">
    <ul class="pagination">
        @if (CurrentpageIndex != 1)
        {
            <li class="page-item">
                <a class="page-link" href="Article?pageIndex=@(CurrentpageIndex-1)" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
        }
        @for (int i = 0; i <= Model.PagesCount; i++)
        {
            if (CurrentpageIndex == (i + 1))
            {
                <li class="page-item active">
                    <a class="page-link" href="Article?pageIndex=@(i + 1)">@(i + 1)</a>
                </li>
            }
            else
            {
                <li class="page-item">
                    <a class="page-link" href="Article?pageIndex=@(i + 1)">@(i + 1)</a>
                </li>
            }
        }
        @if (CurrentpageIndex != Model.PagesCount + 1)
        {
            <li class="page-item">
                <a class="page-link" href="Article?pageIndex=@(CurrentpageIndex+1)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        }
    </ul>
</nav>

